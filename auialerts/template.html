<div ng-show="vm.auiAlerts.alerts.length > 1">
    <div class="alert {{vm.severestAlertType()}}">
        <div class="error-summary" ng-click="vm.viewAllErrors = !vm.viewAllErrors">
            <span class="errorCount">{{vm.auiAlerts.alerts.length}}<span class="caret" ng-class="{down: vm.viewAllErrors, right: !vm.viewAllErrors}"></span></span>
        </div>
        <div class="error-summary-detail">
            <div>
                <div class="summaries">{{vm.messages().join(', ')}}</div>
                <div class="instructions">Open to view all {{vm.auiAlerts.alerts.length}} messages</div>
            </div>
            <div>
                <a href ng-click="vm.auiAlerts.alerts = []">Dismiss All</a>
            </div>
        </div>
    </div>
</div>
<div ng-show="vm.viewAllErrors || vm.auiAlerts.alerts.length === 1">
    <uib-alert ng-repeat="alert in vm.auiAlerts.alerts" type="{{ alert.type || 'info' }}" close="alert.close()">{{ alert.message }} <span class="badge" ng-if="alert.count > 1">{{alert.count}}</span></uib-alert>
</div>
